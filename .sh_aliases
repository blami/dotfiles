# ~/.sh_aliases - Shell aliases
# NOTE: .sh_aliases is shared between Zsh and Bash (and possibly other shells)

# Shell guard
if [ -n "${BASH_VERSION}${KSH_VERSION}${ZSH_VERSION}" ]; then

# {{{ Aliases
# Output redirects
alias NERR='2>|/dev/null'   # no stderr
alias NOUT='&>|/dev/null'   # no stdout
alias NALL='2>&1|/dev/null' # no stdout+stderr

alias P='2>&1|$PAGER'       # pipe all to pager (expand in shell)
alias L='|wc -l'            # count lines
for grep in "grep" "ggrep"; do
	type $grep >/dev/null 2>&1 || continue
	[ -z "$($grep -V 2>/dev/null | head -n1 | grep GNU)" ] && continue

	alias G="|$grep"        # pipe to GNU grep (pattern must follow)
done

# Directories & Files
alias l='ls -a'
alias ll='ls -la'
alias l.='ls -d .*'
alias la='ls -a'
alias lt='ls -At1 && echo "--- Oldest ---"'
alias ltr='ls -Art1 && echo "--- Newest ---"'
alias mkdir='mkdir -p'      # create parent directories if necessary
alias path='echo -e ${PATH//://\\n}'
alias c='cd'

# Command history
alias h='history'           # list history
alias he='history -a'       # export history
alias hi='history -n'       # import history

# Text editing
alias tn='tr -d "\n"'       # trim newlines

# Processes
alias psmem10='ps aux | sort -nr -k 4 | head -10'
alias pscpu10='ps aux | sort -nr -k 3 | head -10'
                            # top 10 mem/cpu eating processes
alias j='jobs -l'           # list shell background jobs
alias q='exit'

# Network
alias httph='curl -I -L'    # show HTTP headers (URL must follow)

# Programming
# Python virtual environment
alias venv="[ ! -d ./venv_$OSARCH ] && \
	virtualenv ./venv_$OSARCH ; \
	source ./venv_$OSARCH/bin/activate"
alias venv3="[ ! -d ./venv_$OSARCH ] && \
	virtualenv -p python3 ./venv_$OSARCH ; \
	source ./venv_$OSARCH/bin/activate"

# VCS
# Git
alias dfgit="git --git-dir=$HOME/.dfgit --work-tree=$HOME" # use .dfgit (dotfiles) instead of .git
# }}}


# {{{ Typo aliases
# NOTE: These are only typo corrections for typos I do very often
alias exot='exit'
alias ccd='cd'
# }}}


# {{{ Zsh aliases
# NOTE: These aliases are zsh-specific and not supported in other shells
if [ -n "$ZSH_VERSION" ]; then
    # TODO
fi
# }}}


# Local configuration
[ -r $HOME/.sh_aliases_local ] && source $HOME/.sh_aliases_local
[ -r $HOME/.sh_aliases_$HOST ] && source $HOME/.sh_aliases_$HOST


# /Shell guard
fi


# vim:set ft=sh:
