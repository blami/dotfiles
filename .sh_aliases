# ~/.sh_aliases - Shell aliases

# {{{ Output redirects
alias NERR='2>|/dev/null'               # no stderr
alias NOUT='&>|/dev/null'               # no stdout
alias NALL='2>&1|/dev/null'             # no stdout+stderr

alias P='2>&1|$PAGER'                   # pipe all to pager (expand in shell)
alias L='|wc -l'                        # count lines
for grep in "grep" "ggrep"; do
	type $grep >/dev/null 2>&1 || continue
	[ -z "$($grep -V 2>/dev/null | head -n1 | grep GNU)" ] && continue

	alias G="|$grep"                    # pipe to GNU grep (pat. must follow)
done
# }}}


# {{{ Directories & Files
alias rm='rm -i'
alias l='ls -a'
alias ll='ls -la'
alias l.='ls -d .*'
alias la='ls -a'
alias lt='ls -At1 && echo "--- Oldest ---"'
alias ltr='ls -Art1 && echo "--- Newest ---"'
alias mkdir='mkdir -p'                  # create parent directories
alias path='echo -e ${PATH//:/\\n}'
alias ws="cd $HOME/ws"
# }}}


# {{{ Command history
alias c='clear'
alias clr='clear'
alias h='history'                       # list history
alias he='history -a'                   # export history
alias hi='history -n'                   # import history
# }}}


# {{{ Text editing
alias tn='tr -d "\n"'                   # trim newlines
# }}}


# {{{ Processes
alias psmem10='ps aux | sort -nr -k 4 | head -10'
alias pscpu10='ps aux | sort -nr -k 3 | head -10'
                                        # top 10 mem/cpu eating processes
alias j='jobs -l'                       # list shell background jobs
alias q='exit'
# }}}


# {{{ Network
alias httph='curl -I -L'                # show HTTP headers (URL must follow)
alias ip=''
# }}}


# {{{ Admin commands
alias t='tmux'
# }}}


# {{{ Coding
# Python virtual environment
alias venv="[ ! -d ./venv_$OSARCH ] && \
	virtualenv ./venv_$OSARCH ; \
	source ./venv_$OSARCH/bin/activate"
alias venv3="[ ! -d ./venv3_$OSARCH ] && \
	virtualenv -p python3 ./venv3_$OSARCH ; \
	source ./venv3_$OSARCH/bin/activate"

# VCS
# Git
alias g="git"

alias dfgit="git --git-dir=$HOME/.dfgit --work-tree=$HOME" # dfgit for .dfgit
# }}}


# {{{ Typos
# NOTE: These are only typo corrections for typos I do very often
alias exot='exit'
alias exut='exit'
alias ccd='cd'
# }}}


# {{{ Includes
# Local configuration
# NOTE: Script should include only <self>_local and <self>_$HOST, other files
# are sourced from ~/.<shell>rc
[ -r $HOME/.sh_aliases_local ] && source $HOME/.sh_aliases_local
[ -r $HOME/.sh_aliases_$HOST ] && source $HOME/.sh_aliases_$HOST

# Clear exit code (if any optional file doesn't exist)
builtin true
# }}}


# vim:set ft=sh:
