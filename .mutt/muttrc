# ~/.mutt/muttrc: Mutt-kz configuration

# {{{ General
set charset             = utf-8
set help                                        # Show help lines

# set shell                                      # Shell to use for escapes
# }}}


# {{{ Directories and files
set folder              = ~/mail                # Root of email folders (=)
set mbox_type           = Maildir               # Use Maildirs
set header_cache        = ~/mail/.cache/header
set message_cachedir    = ~/mail/.cache/body
set mailcap_path        = ~/.mutt/mailcap:/etc/mailcap

# Notmuch DB (directory containing .notmuch)
#set nm_default_uri      = notmuch:///home/blami/mail
#set virtual_spoolfile   = yes

#set alias_file          =                       # Set in account_*
unset nosave_empty                              # Keep empty mail files
# }}}


# {{{ Notmuch (mutt-kz)

# }}}


# {{{ Actions
set mail_check          = 1                     # Check for new e-mail every 1m
set copy                = yes                   # Always save outgoing messages
set delete              = yes                   # Purge deleted without asking
set bounce              = yes                   # Bounce without asking
set move                = no                    # Don't move read to $mbox
                                                # (usefull with offlineimap)
set mark_old            = no                    # Don't use OLD/NEW marker
set auto_tag                                    # Apply action to all tagged
set noconfirmappend

# Printing
set print               = ask-yes               # Ask before printing
set print_command       = muttprint             # Use muttprint
# }}}


# {{{ Composing
set use_from                                    # Use Mutt From: header
set use_envelope_from                           # Use From: in envelope (ISP)
unset use_domain                                # MDA adds domain, not Mutt
set recall                                      # Recall drafts
#set fcc_attach                                  # Keep attachments in sent
# Editing
#set autoedit                                    # Go right to the editor
set editor              = vim

# Sending
#set nm_record           = yes                   # Add sent to Notmuch DB
#set nm_record_tags      = "+sent -inbox"        # Setup sent tags

# Headers
#set edit_headers                                # Allow editing headers
# NOTE: put all my_hdr commands to account_reset file which does unmy_hdr *
set hdrs                                        # Put my_hdr to messages
unset header                                    # Omit headers when Re/Fwd:

# Reply/Forward
set reply_to                                    # Use Reply-To: if present
set metoo                                       # Remove my address when Re:
set include                                     # Always include orig. message
set indent_string       = "> "                  # Re: indent quote
#set fastreply                                   # Reply without asking address
set abort_unmodified                            # Abort Re/Fwd: if not modified
set attribution         = "On %d, %n wrote:"
set forward_format      = "Fwd: %s"             # Forward message subject
set mime_forward        = no                    # Forward inline
# }}}


# {{{ UI
#set ascii_chars         = yes                   # Solaris fix
# Sorting
set sort                = threads               # Threads
set sort_aux            = reverse-last-date-received # Last on top sorting
set sort_alias          = unsorted              # Keep aliases as in file
set sort_browser        = unsorted              # Keep unsorted
set sleep_time          = 0                     # Don't pause between messages

# Aliases/Names
set reverse_alias                               # Resolve names from aliases
unset reverse_name                              # Ignore my name in message

# Pager
set pager_index_lines   = 6                     # Index pager lines (top) + 1
set pager_stop                                  # Don't skip to next message

# Headers display
ignore *
unignore                from to cc posted-to mail-followup-to subject date \
                        organization content-type user-agent \
                        x-mailer x-editor x-operating-system x-url x-label
unhdr_order *
hdr_order               from to cc subject date

# Progress indication
set read_inc            = 25
set write_inc           = 25
set menu_scroll                                 # Scroll by line, not screen
set tilde                                       # Virtual ~ lines in pager
set markers             = no                    # Don't use + on split lines

# Beeps
set beep                = no                    # Don't beep on errors
set beep_new            = yes                   # Beep (vbell) on new messages

# Index format
set index_format="%5C %Z %?X?%1X& ? %{%b %d} %-24.24L (%?l?%4l&%4c?) %?M?[%M] ?%s"
#set pager_format=
#set status_format=

# Sidebar
set sidebar_visible     = yes
#set sidebar_newmail_only = yes
#set sidebar_shortpath   = yes
#set sidebar_folderindent= yes
set sidebar_width       = 30

# Term title
set ts_enabled          = yes
set ts_status_format="MUTT: %h [%f %n]"

# }}}

# {{{ Autoview
set implicit_autoview                           # Implicit mailcap autoview
auto_view               text/html

# Favor text/plain body parts over html
unalternative_order     *
alternative_order       text/plain text/enriched text text/html
# }}}

# {{{ Hooks
# Folder hooks (profiles)
# NOTE: handled by source_profiles script in Includes section

# Charset hooks
# Fix broken encoding (Outlook and/or Pine)
charset-hook            windows-1250 CP1250
charset-hook            windows-1251 CP1251
charset-hook            windows-1252 CP1252
charset-hook            windows-1253 CP1253
charset-hook            windows-1254 CP1254
charset-hook            windows-1255 CP1255
charset-hook            windows-1256 CP1256
charset-hook            windows-1257 CP1257
charset-hook            windows-1258 CP1258
# }}}


# {{{ Includes
source `~/.mutt/bin/source ~/.mutt/macros`
source `~/.mutt/bin/source ~/.mutt/colors`

# Profiles (+ activate default)
source `~/.mutt/bin/source_profiles`
source `~/.mutt/bin/source ~/.mutt/profile/default`
# Open inbox (workaround mutt bug)
push <change-folder>$spoolfile<enter>
# }}}


# vim:set ft=muttrc:
