# ~/.screen/screenrc: GNU screen configuration

# {{{ General
startup_message     off         # Don't show startup message
autodetach          on          # Automatically detach session on SIGHUP
defscrollback       2048
msgwait             1           # Keep messages on screen for 1 second
silencewait         15          # If there's no change for 15 seconds consider screen silent
vbell               off         # Disable visual bell
crlf                off         # Don't copy cr/lf
ignorecase          on          # Ignore case in searches
nethack             on          # Funny error/stat messages

# UTF-8
defencoding         utf-8
defutf8             on

# Hardcopy
hardcopydir         $HOME
hardcopy_append     off

# Terminal settings
term                xterm-256color
attrcolor           b ".I"
# Scrolling in X
termcapinfo         xterm*|xs|rxvt ti@:te@
#terminfo            xterm "Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm"
#terminfo            rxvt-unicode "Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm"

# Visual messages
activity            "Hey!   %n:%t [%w:%s]~"
bell                "Bleep! %n:%t [%w:%s]~"
vbell_msg           "Bleep! %n:%t [%w:%s]"
pow_detach_msg      "Screen of \$LOGNAME \$:cr:\$:nl:ended."
# }}}


# {{{
shelltitle          "sh"
sorendition         "wr"
defbce              on          # Use current background color for erase

# Backticks
# NOTE: Solaris 11 sed compatibility
backtick 0 60 60 /bin/sh -c 'screen -ls | grep $PPID | sed "s/^[	0-9]*\.\([^	]*\).*/\1/"'
backtick 1 60 60 $HOME/.screen/scripts/ip.sh
backtick 2 60 60 $HOME/.screen/scripts/stor.sh
backtick 3 60 60 $HOME/.screen/scripts/bat.sh
#backtick 0

# Caption:
#   %H: hostname
#   %-w: show "%n %t" for all windows preceding the current one
#   %n%f%t: show current window with its flags
#   %+w: show "%n %t" for all windows following the current one
#   %=: span
#   %M: month name
#   %d: day number
#   %c: HH:MM
caption always "%{= wk}[$USER@%H](%0`)%{= dw} %l | %1` | stor:%2` | bat:%3` %= %{= wk}[%M %d %0c]"
hardstatus alwayslastline "%{= gk}%n%f %t%{= dw} | %?%-w%?%{= gk}%n*%f%t%?(%u)%?%{= dw}%?%+w%? %{= dw}"

#indowlist always "%{= wk}[%H](%0`)%{= dw} %-w%{= bw}%n%f*%t%{= dw}%+w%< %= %{= wk}[%M %d %c]%{= dd}"
#hardstatus alwayslastline "screen [%n%f %t]"
# }}}


# {{{ Shell
deflogin            off
shell               $SHELL      # Don't start shell as login-shell
chdir                           # Change to ~
# }}}


# {{{ Environment
unsetenv DISPLAY
# }}}


# {{{ Bindings
# Remove annoying bindings
bind .
bind k
bind ^k
bind ^h
# }}}


# {{{ Includes
# Include host specific configuration
# NOTE: Moved into ~/.bash_alias in order to take advantage of $STY and avoid
# an error message in case the file does not exist.
# }}}
